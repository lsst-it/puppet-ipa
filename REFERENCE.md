# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`ipa`](#ipa): Manages IPA masters, replicas and clients.

#### Private Classes

* `ipa::client`: Manage ipa client
* `ipa::client::debian`: Ensure that home directories get created on Debian and Ubuntu clients.
* `ipa::server`: Manage IPA server install
* `ipa::server::flushcache`: Manage cache flushing
* `ipa::server::master`: Manage primary server
* `ipa::server::redhat`
* `ipa::server::replica`: Manage replica install

## Classes

### <a name="ipa"></a>`ipa`

TODO: Allow creation of root zone for isolated networks -- https://www.freeipa.org/page/Howto/DNS_in_isolated_networks
TODO: Class comments.
TODO: Dependencies and metadata updates.
TODO: Variable scope and passing.
TODO: configurable admin username.

#### Parameters

The following parameters are available in the `ipa` class:

* [`domain`](#-ipa--domain)
* [`ipa_role`](#-ipa--ipa_role)
* [`admin_password`](#-ipa--admin_password)
* [`directory_services_password`](#-ipa--directory_services_password)
* [`allow_zone_overlap`](#-ipa--allow_zone_overlap)
* [`no_dnssec_validation`](#-ipa--no_dnssec_validation)
* [`configure_dns_server`](#-ipa--configure_dns_server)
* [`configure_replica_ca`](#-ipa--configure_replica_ca)
* [`configure_ntp`](#-ipa--configure_ntp)
* [`configure_ssh`](#-ipa--configure_ssh)
* [`configure_sshd`](#-ipa--configure_sshd)
* [`custom_dns_forwarders`](#-ipa--custom_dns_forwarders)
* [`domain_join_principal`](#-ipa--domain_join_principal)
* [`domain_join_password`](#-ipa--domain_join_password)
* [`enable_dns_updates`](#-ipa--enable_dns_updates)
* [`enable_hostname`](#-ipa--enable_hostname)
* [`enable_ip_address`](#-ipa--enable_ip_address)
* [`fixed_primary`](#-ipa--fixed_primary)
* [`idstart`](#-ipa--idstart)
* [`idmax`](#-ipa--idmax)
* [`ip_address`](#-ipa--ip_address)
* [`ipa_server_fqdn`](#-ipa--ipa_server_fqdn)
* [`ipa_master_fqdn`](#-ipa--ipa_master_fqdn)
* [`mkhomedir`](#-ipa--mkhomedir)
* [`no_ui_redirect`](#-ipa--no_ui_redirect)
* [`realm`](#-ipa--realm)
* [`adjust_login_defs`](#-ipa--adjust_login_defs)

##### <a name="-ipa--domain"></a>`domain`

Data type: `Stdlib::Fqdn`

(string) The name of the IPA domain to create or join.

##### <a name="-ipa--ipa_role"></a>`ipa_role`

Data type: `Enum['client', 'master', 'replica']`

(string) What role the node will be. Options are 'master', 'replica', and 'client'.

##### <a name="-ipa--admin_password"></a>`admin_password`

Data type: `Optional[Variant[Sensitive[String[8]],String[8]]]`

(string) Password which will be assigned to the IPA account named 'admin'.

Default value: `undef`

##### <a name="-ipa--directory_services_password"></a>`directory_services_password`

Data type: `Optional[Variant[Sensitive[String[8]],String[8]]]`

(string) Password which will be passed into the ipa setup's parameter named "--ds-password".

Default value: `undef`

##### <a name="-ipa--allow_zone_overlap"></a>`allow_zone_overlap`

Data type: `Boolean`

(boolean) if set to true, allow creating of (reverse) zone even if the zone is already
          resolvable. Using this option is discouraged as it result in later problems with
          domain name. You may have to use this, though, when migrating existing DNS
          domains to FreeIPA.

Default value: `false`

##### <a name="-ipa--no_dnssec_validation"></a>`no_dnssec_validation`

Data type: `Boolean`

(boolean) if set to true, DNSSEC validation is disabled.

Default value: `false`

##### <a name="-ipa--configure_dns_server"></a>`configure_dns_server`

Data type: `Boolean`

(boolean) If true, then the parameter '--setup-dns' is passed to the IPA server installer.
          Also, triggers the install of the required dns server packages.

Default value: `true`

##### <a name="-ipa--configure_replica_ca"></a>`configure_replica_ca`

Data type: `Boolean`

(boolean) If true, then the parameter '--setup-ca' is passed to the IPA replica installer.

Default value: `false`

##### <a name="-ipa--configure_ntp"></a>`configure_ntp`

Data type: `Boolean`

(boolean) If false, then the parameter '--no-ntp' is passed to the IPA client and server
          installers.

Default value: `true`

##### <a name="-ipa--configure_ssh"></a>`configure_ssh`

Data type: `Boolean`

(boolean) If false, then the parameter '--no-ssh' is passed to the IPA client and server
          installers.

Default value: `true`

##### <a name="-ipa--configure_sshd"></a>`configure_sshd`

Data type: `Boolean`

(boolean) If false, then the parameter '--no-sshd' is passed to the IPA client and server
          installers.

Default value: `true`

##### <a name="-ipa--custom_dns_forwarders"></a>`custom_dns_forwarders`

Data type: `Array[String]`

(array[string]) Each element in this array is prefixed with '--forwarder '
                and passed to the IPA server installer.

Default value: `[]`

##### <a name="-ipa--domain_join_principal"></a>`domain_join_principal`

Data type: `Variant[Sensitive[String[1]],String[1]]`

(string) The principal (usually username) used to join a client or replica to the IPA domain.

Default value: `'admin'`

##### <a name="-ipa--domain_join_password"></a>`domain_join_password`

Data type: `Optional[Variant[Sensitive[String[1]],String[1]]]`

(string) The password for the domain_join_principal.

Default value: `$directory_services_password`

##### <a name="-ipa--enable_dns_updates"></a>`enable_dns_updates`

Data type: `Boolean`

(boolean) If true, then the parameter '--enable-dns-updates' is passed to the IPA installer.

Default value: `false`

##### <a name="-ipa--enable_hostname"></a>`enable_hostname`

Data type: `Boolean`

(boolean) If true, then the parameter '--hostname' is populated with the parameter 'ipa_server_fqdn'
          and passed to the IPA installer.

Default value: `true`

##### <a name="-ipa--enable_ip_address"></a>`enable_ip_address`

Data type: `Boolean`

(boolean) If true, then the parameter '--ip-address' is populated with the parameter 'ip_address'
          and passed to the IPA installer.

Default value: `false`

##### <a name="-ipa--fixed_primary"></a>`fixed_primary`

Data type: `Boolean`

(boolean) If true, then the parameter '--fixed-primary' is passed to the IPA installer.

Default value: `false`

##### <a name="-ipa--idstart"></a>`idstart`

Data type: `Integer[10000]`

(integer) From the IPA man pages: "The starting user and group id number".

Default value: `(fqdn_rand('10737') + 10000`

##### <a name="-ipa--idmax"></a>`idmax`

Data type: `Optional[Variant[Integer,Undef]]`

(integer) From the IPA man pages: "The max value for the IDs range (default: idstart+199999)".

Default value: `undef`

##### <a name="-ipa--ip_address"></a>`ip_address`

Data type: `Optional[Stdlib::IP::Address]`

(string) IP address to pass to the IPA installer.

Default value: `undef`

##### <a name="-ipa--ipa_server_fqdn"></a>`ipa_server_fqdn`

Data type: `String`

(string) Actual fqdn of the IPA server or client.

Default value: `fact('networking.fqdn')`

##### <a name="-ipa--ipa_master_fqdn"></a>`ipa_master_fqdn`

Data type: `Optional[Stdlib::Fqdn]`

(string) FQDN of the server to use for a client or replica domain join.

Default value: `undef`

##### <a name="-ipa--mkhomedir"></a>`mkhomedir`

Data type: `Boolean`

(boolean) If true, then the parameter '--mkhomedir' is passed to the IPA server and client
installers.

Default value: `true`

##### <a name="-ipa--no_ui_redirect"></a>`no_ui_redirect`

Data type: `Boolean`

(boolean) If true, then the parameter '--no-ui-redirect' is passed to the IPA server installer.

Default value: `false`

##### <a name="-ipa--realm"></a>`realm`

Data type: `Optional[Stdlib::Fqdn]`

(string) The name of the IPA realm to create or join.

Default value: `undef`

##### <a name="-ipa--adjust_login_defs"></a>`adjust_login_defs`

Data type: `Boolean`

(boolean) Adjust UID_MAX and GID_MAX in login.defs. Without this newer server installers fail. Default false.

Default value: `false`

